(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[203],{134:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/game",function(){return n(8685)}])},8685:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var s=n(5893),i=n(7294),a=n(1163),r=n(9008),o=n.n(r),c=n(4298),l=n.n(c),u=n(1664),d=n.n(u);let p={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},h={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},g="mousemove",f="mouseup";function m(e,t){if(0===t)return e;let n=Math.PI/180*t,s=e[0]*Math.cos(n)+e[1]*Math.sin(n),i=e[1]*Math.cos(n)-e[0]*Math.sin(n);return[s,i]}var w=n(1959),x=n(6618),b=n(8230),v=n(41);let j=()=>{let e=(0,a.useRouter)(),[t,n]=(0,i.useState)(0),[r,c]=(0,i.useState)([""]),[u,j]=(0,i.useState)(""),[O,S]=(0,i.useState)(!1);var T="normal",y=[],E="";switch(e.query.mode&&(T=String(e.query.mode)),T){case"party":E="bg-gradient-to-r from-[#FFC300] to-[#FF8900]",x.map(e=>{y.push(e)});break;case"dirty":E="bg-gradient-to-r from-[#FF006D] to-[#FC0023]",b.map(e=>{y.push(e)});break;case"dares":E="bg-gradient-to-r from-[#EA00C3] to-[#BE00FF]",v.map(e=>{y.push(e)});break;case"mix":E="bg-black",y=[...w,...x,...b,...v];break;default:E="bg-gradient-to-r from-[#00C5FF] to-[#009BFF]",w.map(e=>{y.push(e)})}function M(){t+1>=r.length?(j(r[0]),n(0)):(j(r[t+1]),n(t+1))}function k(){t-1<0?(j(r[r.length-1]),n(r.length-1)):(j(r[t-1]),n(t-1))}(0,i.useEffect)(()=>{if(!e.isReady)return;let t=parseInt(String(e.query.q)),s=parseInt(String(e.query.offset)),i=y.length,a;var r="";for(t<y.length&&(r=y[t]);0!=i;)a=Math.floor(Math.random()*i),i--,[y[i],y[a]]=[y[a],y[i]];var o=0;""!=r&&(o=y.indexOf(r)),!isNaN(s)&&(o-=s)<0&&(o=y.length+o),n(o),c(y),j(y[o]),document.getElementById("maindiv").focus()},[e.isReady]);let N=function(e){var t,n,s;let a;let{trackMouse:r}=e,o=i.useRef(Object.assign({},h)),c=i.useRef(Object.assign({},p)),l=i.useRef(Object.assign({},c.current));for(a in l.current=Object.assign({},c.current),c.current=Object.assign(Object.assign({},p),e),p)void 0===c.current[a]&&(c.current[a]=p[a]);let[u,d]=i.useMemo(()=>(function(e,t){let n=t=>{let n="touches"in t;n&&t.touches.length>1||e((e,i)=>{i.trackMouse&&!n&&(document.addEventListener(g,s),document.addEventListener(f,r));let{clientX:a,clientY:o}=n?t.touches[0]:t,c=m([a,o],i.rotationAngle);return i.onTouchStartOrOnMouseDown&&i.onTouchStartOrOnMouseDown({event:t}),Object.assign(Object.assign(Object.assign({},e),h),{initial:c.slice(),xy:c,start:t.timeStamp||0})})},s=t=>{e((e,n)=>{let s="touches"in t;if(s&&t.touches.length>1)return e;if(t.timeStamp-e.start>n.swipeDuration)return e.swiping?Object.assign(Object.assign({},e),{swiping:!1}):e;let{clientX:i,clientY:a}=s?t.touches[0]:t,[r,o]=m([i,a],n.rotationAngle),c=r-e.xy[0],l=o-e.xy[1],u=Math.abs(c),d=Math.abs(l),h=(t.timeStamp||0)-e.start,g=u>d?c>0?"Right":"Left":l>0?"Down":"Up",f="number"==typeof n.delta?n.delta:n.delta[g.toLowerCase()]||p.delta;if(u<f&&d<f&&!e.swiping)return e;let w={absX:u,absY:d,deltaX:c,deltaY:l,dir:g,event:t,first:e.first,initial:e.initial,velocity:Math.sqrt(u*u+d*d)/(h||1),vxvy:[c/(h||1),l/(h||1)]};w.first&&n.onSwipeStart&&n.onSwipeStart(w),n.onSwiping&&n.onSwiping(w);let x=!1;return(n.onSwiping||n.onSwiped||n[`onSwiped${g}`])&&(x=!0),x&&n.preventScrollOnSwipe&&n.trackTouch&&t.cancelable&&t.preventDefault(),Object.assign(Object.assign({},e),{first:!1,eventData:w,swiping:!0})})},i=t=>{e((e,n)=>{let s;if(e.swiping&&e.eventData){if(t.timeStamp-e.start<n.swipeDuration){s=Object.assign(Object.assign({},e.eventData),{event:t}),n.onSwiped&&n.onSwiped(s);let i=n[`onSwiped${s.dir}`];i&&i(s)}}else n.onTap&&n.onTap({event:t});return n.onTouchEndOrOnMouseUp&&n.onTouchEndOrOnMouseUp({event:t}),Object.assign(Object.assign(Object.assign({},e),h),{eventData:s})})},a=()=>{document.removeEventListener(g,s),document.removeEventListener(f,r)},r=e=>{a(),i(e)},o=(e,t)=>{let a=()=>{};if(e&&e.addEventListener){let r=Object.assign(Object.assign({},p.touchEventOptions),t.touchEventOptions),o=[["touchstart",n,r],["touchmove",s,Object.assign(Object.assign({},r),t.preventScrollOnSwipe?{passive:!1}:{})],["touchend",i,r]];o.forEach(([t,n,s])=>e.addEventListener(t,n,s)),a=()=>o.forEach(([t,n])=>e.removeEventListener(t,n))}return a},c=t=>{null!==t&&e((e,n)=>{if(e.el===t)return e;let s={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),s.cleanUpTouch=void 0),n.trackTouch&&t&&(s.cleanUpTouch=o(t,n)),Object.assign(Object.assign(Object.assign({},e),{el:t}),s)})},l={ref:c};return t.trackMouse&&(l.onMouseDown=n),[l,o]})(e=>o.current=e(o.current,c.current),{trackMouse:r}),[r]);return o.current=(t=o.current,n=c.current,s=l.current,n.trackTouch&&t.el?t.cleanUpTouch?n.preventScrollOnSwipe!==s.preventScrollOnSwipe||n.touchEventOptions.passive!==s.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:d(t.el,n)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:d(t.el,n)}):(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0}))),u}({onSwipedLeft:()=>M(),onSwipedRight:()=>k(),onSwipeStart:()=>S(!0),onSwiped:()=>S(!1)});return(0,s.jsxs)("div",{className:"h-full",tabIndex:0,id:"maindiv",onKeyDown:function(e){"Space"===e.code||"ArrowRight"==e.code?M():"ArrowLeft"==e.code&&k()},children:[(0,s.jsx)(l(),{async:!0,src:"https://www.googletagmanager.com/gtag/js?id=G-W9M7TVKHRZ"}),(0,s.jsx)(l(),{dangerouslySetInnerHTML:{__html:"\n            window.dataLayer = window.dataLayer || [];\n            function gtag(){dataLayer.push(arguments);}\n            gtag('js', new Date());\n\n            gtag('config', 'G-W9M7TVKHRZ');\n          "}}),(0,s.jsxs)(o(),{children:[(0,s.jsx)("title",{children:"Truth or Drink"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsxs)("div",{className:"fixmobilevh flex flex-col",children:[(0,s.jsx)(d(),{href:"/",children:(0,s.jsxs)("div",{className:"cursor-pointer",children:[(0,s.jsxs)("div",{className:"select-none text-4xl text-header font-semibold mx-auto text-center align-middle pt-4 pb-2",children:["TRUTH ",(0,s.jsx)("span",{className:"text-xl align-middle",children:"O R"})," DRINK"]}),(0,s.jsx)("div",{className:[E,"select-none rounded-lg text-center text-white font-bold max-w-fit px-4 m-auto"].join(" "),children:T.toUpperCase().split("").join(" ")})]})}),(0,s.jsx)("div",{className:"flex flex-grow p-2 mx-auto mt-2 justify-center w-screen",...N,style:{touchAction:"none"},children:(0,s.jsx)("div",{className:"select-none flex items-center text-5xl text-white font-semibold bg-black rounded-xl shadow-xl p-4 max-w-3xl w-full justify-center text-center",onClick:M,children:u})}),(0,s.jsx)("footer",{className:"flex flex-col text-center lg:text-left",children:(0,s.jsxs)("div",{className:"select-none text-center text-gray-700 p-2 mb-2 text-opacity-60",children:["\xa9 ",new Date().getFullYear()," ",(0,s.jsx)("a",{className:"select-none font-semibold text-opacity-60",href:"https://aravindnatch.me/",children:"Aravind Natchiappan"})]})})]})]})};var O=j},1163:function(e,t,n){e.exports=n(880)}},function(e){e.O(0,[557,821,774,888,179],function(){return e(e.s=134)}),_N_E=e.O()}]);