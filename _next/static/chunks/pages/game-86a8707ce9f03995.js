(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[203],{134:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/game",function(){return n(1593)}])},1593:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(1799);function s(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var i=n(797),c=n(5893),o=n(7294),a=n(1163),u=n(9008),l=n.n(u),p=n(1664),d=n.n(p);const f={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},h={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},g="mousemove",b="mouseup";function m(e,t){if(0===t)return e;const n=Math.PI/180*t;return[e[0]*Math.cos(n)+e[1]*Math.sin(n),e[1]*Math.cos(n)-e[0]*Math.sin(n)]}function O(e,t){const n=t=>{const n="touches"in t;n&&t.touches.length>1||e(((e,s)=>{s.trackMouse&&!n&&(document.addEventListener(g,r),document.addEventListener(b,i));const{clientX:c,clientY:o}=n?t.touches[0]:t,a=m([c,o],s.rotationAngle);return s.onTouchStartOrOnMouseDown&&s.onTouchStartOrOnMouseDown({event:t}),Object.assign(Object.assign(Object.assign({},e),h),{initial:a.slice(),xy:a,start:t.timeStamp||0})}))},r=t=>{e(((e,n)=>{const r="touches"in t;if(r&&t.touches.length>1)return e;if(t.timeStamp-e.start>n.swipeDuration)return e.swiping?Object.assign(Object.assign({},e),{swiping:!1}):e;const{clientX:s,clientY:i}=r?t.touches[0]:t,[c,o]=m([s,i],n.rotationAngle),a=c-e.xy[0],u=o-e.xy[1],l=Math.abs(a),p=Math.abs(u),d=(t.timeStamp||0)-e.start,h=Math.sqrt(l*l+p*p)/(d||1),g=[a/(d||1),u/(d||1)],b=function(e,t,n,r){return e>t?n>0?"Right":"Left":r>0?"Down":"Up"}(l,p,a,u),O="number"===typeof n.delta?n.delta:n.delta[b.toLowerCase()]||f.delta;if(l<O&&p<O&&!e.swiping)return e;const v={absX:l,absY:p,deltaX:a,deltaY:u,dir:b,event:t,first:e.first,initial:e.initial,velocity:h,vxvy:g};v.first&&n.onSwipeStart&&n.onSwipeStart(v),n.onSwiping&&n.onSwiping(v);let j=!1;return(n.onSwiping||n.onSwiped||n[`onSwiped${b}`])&&(j=!0),j&&n.preventScrollOnSwipe&&n.trackTouch&&t.cancelable&&t.preventDefault(),Object.assign(Object.assign({},e),{first:!1,eventData:v,swiping:!0})}))},s=t=>{e(((e,n)=>{let r;if(e.swiping&&e.eventData){if(t.timeStamp-e.start<n.swipeDuration){r=Object.assign(Object.assign({},e.eventData),{event:t}),n.onSwiped&&n.onSwiped(r);const s=n[`onSwiped${r.dir}`];s&&s(r)}}else n.onTap&&n.onTap({event:t});return n.onTouchEndOrOnMouseUp&&n.onTouchEndOrOnMouseUp({event:t}),Object.assign(Object.assign(Object.assign({},e),h),{eventData:r})}))},i=e=>{document.removeEventListener(g,r),document.removeEventListener(b,i),s(e)},c=(e,t)=>{let i=()=>{};if(e&&e.addEventListener){const c=Object.assign(Object.assign({},f.touchEventOptions),t.touchEventOptions),o=[["touchstart",n,c],["touchmove",r,Object.assign(Object.assign({},c),t.preventScrollOnSwipe?{passive:!1}:{})],["touchend",s,c]];o.forEach((([t,n,r])=>e.addEventListener(t,n,r))),i=()=>o.forEach((([t,n])=>e.removeEventListener(t,n)))}return i},o={ref:t=>{null!==t&&e(((e,n)=>{if(e.el===t)return e;const r={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),r.cleanUpTouch=void 0),n.trackTouch&&t&&(r.cleanUpTouch=c(t,n)),Object.assign(Object.assign(Object.assign({},e),{el:t}),r)}))}};return t.trackMouse&&(o.onMouseDown=n),[o,c]}function v(e){const{trackMouse:t}=e,n=o.useRef(Object.assign({},h)),r=o.useRef(Object.assign({},f)),s=o.useRef(Object.assign({},r.current));let i;for(i in s.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},f),e),f)void 0===r.current[i]&&(r.current[i]=f[i]);const[c,a]=o.useMemo((()=>O((e=>n.current=e(n.current,r.current)),{trackMouse:t})),[t]);return n.current=function(e,t,n,r){return t.trackTouch&&e.el?e.cleanUpTouch?t.preventScrollOnSwipe!==n.preventScrollOnSwipe||t.touchEventOptions.passive!==n.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)}):(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0}))}(n.current,r.current,s.current,a),c}var j=n(1959),w=n(6618),x=n(8230),S=n(41),y=function(){var e=function(){p+1>=g.length?(y(g[0]),f(0)):(y(g[p+1]),f(p+1))},t=function(){p-1<0?(y(g[g.length-1]),f(g.length-1)):(y(g[p-1]),f(p-1))},n=(0,a.useRouter)(),u=(0,o.useState)(0),p=u[0],f=u[1],h=(0,o.useState)([""]),g=h[0],b=h[1],m=(0,o.useState)(""),O=m[0],y=m[1],E=(0,o.useState)(!1),T=(E[0],E[1]),k="normal",D=[],M="";switch(n.query.mode&&(k=String(n.query.mode)),k){case"party":M="bg-gradient-to-r from-[#FFC300] to-[#FF8900]",w.map((function(e){D.push(e)}));break;case"dirty":M="bg-gradient-to-r from-[#FF006D] to-[#FC0023]",x.map((function(e){D.push(e)}));break;case"dares":M="bg-gradient-to-r from-[#EA00C3] to-[#BE00FF]",S.map((function(e){D.push(e)}));break;case"mix":M="bg-black",D=(0,i.Z)(j).concat((0,i.Z)(w),(0,i.Z)(x),(0,i.Z)(S));break;default:M="bg-gradient-to-r from-[#00C5FF] to-[#009BFF]",j.map((function(e){D.push(e)}))}(0,o.useEffect)((function(){if(n.isReady){var e,t=parseInt(String(n.query.q)),r=parseInt(String(n.query.offset)),s=D.length,i="";for(t<D.length&&(i=D[t]);0!=s;){var c;e=Math.floor(Math.random()*s),s--,c=[D[e],D[s]],D[s]=c[0],D[e]=c[1]}var o=0;""!=i&&(o=D.indexOf(i)),isNaN(r)||(o-=r)<0&&(o=D.length+o),f(o),b(D),y(D[o]),document.getElementById("maindiv").focus()}}),[n.isReady]);var N=v({onSwipedLeft:function(){return e()},onSwipedRight:function(){return t()},onSwipeStart:function(){return T(!0)},onSwiped:function(){return T(!1)}});return(0,c.jsxs)("div",{className:"h-full",tabIndex:0,id:"maindiv",onKeyDown:function(n){"Space"===n.code||"ArrowRight"==n.code?e():"ArrowLeft"==n.code&&t()},children:[(0,c.jsxs)(l(),{children:[(0,c.jsx)("title",{children:"Truth or Drink"}),(0,c.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,c.jsx)("script",{defer:!0,src:"https://omni.aru.wtf/script.js"})]}),(0,c.jsxs)("div",{className:"fixmobilevh flex flex-col",children:[(0,c.jsx)(d(),{href:"/",children:(0,c.jsxs)("div",{className:"cursor-pointer",children:[(0,c.jsxs)("div",{className:"select-none text-4xl text-header font-semibold mx-auto text-center align-middle pt-4 pb-2",children:["TRUTH ",(0,c.jsx)("span",{className:"text-xl align-middle",children:"O R"})," DRINK"]}),(0,c.jsx)("div",{className:[M,"select-none rounded-lg text-center text-white font-bold max-w-fit px-4 m-auto"].join(" "),children:k.toUpperCase().split("").join(" ")})]})}),(0,c.jsx)("div",s((0,r.Z)({className:"flex flex-grow p-2 mx-auto mt-2 justify-center w-screen"},N),{style:{touchAction:"none"},children:(0,c.jsx)("div",{className:"select-none flex items-center text-5xl text-white font-semibold bg-black rounded-xl shadow-xl p-4 max-w-3xl w-full justify-center text-center",onClick:e,children:O})})),(0,c.jsx)("footer",{className:"flex flex-col text-center lg:text-left",children:(0,c.jsxs)("div",{className:"select-none text-center text-gray-700 p-2 mb-2 text-opacity-60",children:["\xa9 ",(new Date).getFullYear()," ",(0,c.jsx)("a",{className:"select-none font-semibold text-opacity-60",href:"https://aravindnatch.me/",children:"Aravind Natchiappan"})]})})]})]})}},1163:function(e,t,n){e.exports=n(387)}},function(e){e.O(0,[996,548,774,888,179],(function(){return t=134,e(e.s=t);var t}));var t=e.O();_N_E=t}]);